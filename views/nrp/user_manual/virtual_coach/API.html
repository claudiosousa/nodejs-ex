


<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Virtual Coach API &mdash; HBP Neurorobotics Platform 2.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/hbpdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/hbpdoc.js"></script>
    <link rel="top" title="HBP Neurorobotics Platform 2.0.0 documentation" href="../../../index.html" />
    <link rel="up" title="Virtual Coach" href="index.html" />
    <link rel="next" title="Tutorials" href="../../tutorials/index.html" />
    <link rel="prev" title="Introduction" href="introduction.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    .search .context {
        display: none;
    }
</style>

  </head>
  <body role="document">
<div class="hbpdoc-page">
    <section class="hbpdoc-title page-header">
        <a class="project-title" href="../../../index.html">HBP Neurorobotics Platform</a>

        <a class="hbpdoc-toc-toggle pull-right" href>
            <span class="zmdi zmdi-menu"></span> <span class="sr-only icon-text">Menu</span>
        </a>
    </section>
    <section class="hbpdoc-main">
        <nav class="hbpdoc-sidebar hbpdoc-container">
            <a class="hbpdoc-toc-toggle pull-right" href>
                <span class="zmdi zmdi-menu"></span> <span class="sr-only icon-text">Menu</span>
            </a>
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../authentication.html">Authentication and user account</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Neurorobotics Platform</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">User Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_manual/index.html">Developer Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../specifications/index.html">Specifications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../contact-and-support.html">Contact &amp; Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">License</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/nrp/user_manual/virtual_coach/API.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
       </nav>

        <article class="hbpdoc-content">

            <div class="content">
                
                <div class="breadcrumb breadcrumb-meta expand">
                    
                    <a href="../../index.html">Neurorobotics Platform</a>
                    
                    <a href="../index.html">User Manual</a>
                    
                    <a href="index.html">Virtual Coach</a>
                    
                </div>
                

                <aside class="hbpdoc-hnav hbpdoc-hnav-top">
                    
                    <span class="hbpdoc-hnav-previous">
                        previous: <a class="hbpdoc-hnav-link" href="introduction.html">Introduction</a>
                    </span>
                    
                    
                    <span class="hbpdoc-hnav-next">
                        next: <a class="hbpdoc-hnav-link" href="../../tutorials/index.html">Tutorials</a>
                    </span>
                    
                </aside>

                
  <div class="section" id="virtual-coach-api">
<h1>Virtual Coach API<a class="headerlink" href="#virtual-coach-api" title="Permalink to this headline">¶</a></h1>
<p>This package contains the Virtual Coach implementation and interfaces to the Neurorobotics Platform backend services.</p>
<div class="section" id="virtualcoach-module">
<h2>VirtualCoach Module<a class="headerlink" href="#virtualcoach-module" title="Permalink to this headline">¶</a></h2>
<p>Virtual Coach main entry point for interacting with the experiment list and launching simulations.</p>
<p>class <em>hbp_nrp_virtual_coach</em>.virtual_coach.<strong>VirtualCoach</strong>(<em>environment=None</em>, <em>oidc_username=None</em>, <em>storage_username=None</em>)</p>
<blockquote>
<div><p>Bases: object</p>
<p>Provides the user with methods for interacting with the experiment list, providing functionality similar to the graphical frontend experiment list webpage. Allows the user to view available experiments, query currently running experiments, launch a simulation, and more.</p>
</div></blockquote>
<div class="section" id="clone-experiment-to-storage-exp-id">
<h3><strong>clone_experiment_to_storage</strong>(<em>exp_id</em>)<a class="headerlink" href="#clone-experiment-to-storage-exp-id" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Attempts to clone an experiment to the Storage Server. Only works if the Virtual Coach was instantiated with Storage Server support, i.e. Storage Server credentials.</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>exp_id</strong> The id of the experiment to be cloned.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="delete-cloned-experiment-exp-id">
<h3><strong>delete_cloned_experiment</strong>(<em>exp_id</em>)<a class="headerlink" href="#delete-cloned-experiment-exp-id" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Attempts to delete a cloned experiment from the Storage Server</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>exp_id</strong> The id of the experiment to be deleted.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="launch-experiment-experiment-id-server-none-reservation-none">
<h3><strong>launch_experiment</strong>(<em>experiment_id</em>, <em>server=None</em>, <em>reservation=None</em>)<a class="headerlink" href="#launch-experiment-experiment-id-server-none-reservation-none" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Attempts to launch a simulation with the given parameters. If no server is explicitly given then all available backend servers will be tried. Only cloned experiments to the Storage Server can be launched.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>experiment_id</strong> The short name of the experiment configuration to launch (e.g. ExDTemplateHusky).</li>
<li><strong>server</strong> (optional) The full name of the server backend to launch on, if none is provided, then all backend servers will be checked.</li>
<li><strong>reservation</strong> (optional) A cluster reservation string if the user has reserved specific resources, otherwise use any available resources.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="print-available-servers">
<h3><strong>print_available_servers</strong>( )<a class="headerlink" href="#print-available-servers" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Prints a list of the available backend servers that are currently not running a simulation.</div></blockquote>
</div>
<div class="section" id="print-templates-dev-false">
<h3><strong>print_templates</strong>(<em>dev=False</em>)<a class="headerlink" href="#print-templates-dev-false" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Prints a table of the list of experiment templates available on the backend environment. The printed list is sorted by the experiment title in the same way as the frontend webpage.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>dev</strong> (optional) A boolean flag if all development maturity experiments should be printed in addition to the production experiments.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="print-cloned-experiments">
<h3><strong>print_cloned_experiments</strong>( )<a class="headerlink" href="#print-cloned-experiments" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Prints the list of the cloned experiments&#8217; names. Only works if the Virtual Coach was instantiated with Storage Server Support, i.e. Storage Server credentials.</div></blockquote>
</div>
<div class="section" id="print-running-experiments">
<h3><strong>print_running_experiments</strong>( )<a class="headerlink" href="#print-running-experiments" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Prints a table of currently running experiments and relevant details (if any).</div></blockquote>
</div>
</div>
<div class="section" id="simulation-module">
<h2>Simulation Module<a class="headerlink" href="#simulation-module" title="Permalink to this headline">¶</a></h2>
<p>An interface to launch or control a simulation instance.</p>
<p>class <em>hbp_nrp_virtual_coach</em>.simulation.<strong>Simulation</strong>(<em>oidc_client</em>, <em>config</em>)</p>
<blockquote>
<div><p>Bases: <strong>object</strong></p>
<p>Provides an interface to launch or control a simulation instance.</p>
</div></blockquote>
<div class="section" id="add-state-machine-state-machine-name-state-machine">
<h3><strong>add_state_machine</strong>(<em>state_machine_name</em>, <em>state_machine</em>)<a class="headerlink" href="#add-state-machine-state-machine-name-state-machine" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Adds a new State Machine to the simulation.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>state_machine_name:</strong> A string containing the name of the state machine to be edited.</li>
<li><strong>state_machine:</strong> A string containing the new state machine code.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="add-transfer-function-transfer-function">
<h3><strong>add_transfer_function</strong>(<em>transfer_function</em>)<a class="headerlink" href="#add-transfer-function-transfer-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Adds a new transfer function to the simulation.</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>transfer_function</strong> A string containing the new transfer function code.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="delete-state-machine-state-machine-name">
<h3><strong>delete_state_machine</strong>(<em>state_machine_name</em>)<a class="headerlink" href="#delete-state-machine-state-machine-name" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Deletes a state machine.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>state_machine_name</strong> A string containing the name of the state machine to be deleted.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="delete-transfer-function-transfer-function-name">
<h3><strong>delete_transfer_function</strong>(<em>transfer_function_name</em>)<a class="headerlink" href="#delete-transfer-function-transfer-function-name" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Deletes a transfer function.</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>transfer_function_name</strong> A string containing the name of the transfer function to be deleted.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="edit-brain-brain-script">
<h3><strong>edit_brain</strong>(<em>brain_script</em>)<a class="headerlink" href="#edit-brain-brain-script" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Edits the brain script defined in the simulation and keeps the defined populations. Calling this method will not change brain populations.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>brain_script</strong> A string containing the new pyNN script.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="edit-populations-populations">
<h3><strong>edit_populations</strong>(<em>populations</em>)<a class="headerlink" href="#edit-populations-populations" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Modifies the neuron populations and replaces old population names with new ones in the transfer functions automatically.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>populations</strong> A dictionary containing neuron indices and is indexed by population names. Neuron indices could be defined by individual integers, lists of integers or python slices. Python slices are defined by a dictionary containing the from, to and step values.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="edit-state-machine-state-machine-name-state-machine">
<h3><strong>edit_state_machine</strong>(<em>state_machine_name</em>, <em>state_machine</em>)<a class="headerlink" href="#edit-state-machine-state-machine-name-state-machine" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><blockquote>
<div>Modify an existing State Machine by updating the script.</div></blockquote>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>state_machine_name</strong> A string containing the name of the state machine to be edited.</li>
<li><strong>state_machine</strong> A string containing the new state machine code.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="edit-transfer-function-transfer-function-name-transfer-function">
<h3><strong>edit_transfer_function</strong>(<em>transfer_function_name</em>, <em>transfer_function</em>)<a class="headerlink" href="#edit-transfer-function-transfer-function-name-transfer-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Modify an existing Transfer Function by updating the script.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>transfer_function_name</strong> A string containing the name of the transfer function to be edited.</li>
<li><strong>transfer_function</strong> A string containing the new transfer function code.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="get-brain">
<h3><strong>get_brain</strong>( )<a class="headerlink" href="#get-brain" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Gets the brain script.</div></blockquote>
</div>
<div class="section" id="get-csv-data-file-name">
<h3><strong>get_csv_data</strong>(<em>file_name</em>)<a class="headerlink" href="#get-csv-data-file-name" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Returns the recorded csv data as a list, where each entry is a list of strings and represents one row in the original csv file.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>file_name</strong> The name of the csv file.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="get-populations">
<h3><strong>get_populations</strong>( )<a class="headerlink" href="#get-populations" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Gets the Neuron populations defined within the brain as a dictionary indexed by population names.</div></blockquote>
</div>
<div class="section" id="get-state">
<h3><strong>get_state</strong>( )<a class="headerlink" href="#get-state" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Returns the current simulation state.</div></blockquote>
</div>
<div class="section" id="get-state-machine-state-machine-name">
<h3><strong>get_state_machine</strong>(<em>state_machine_name</em>)<a class="headerlink" href="#get-state-machine-state-machine-name" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Gets the State Machine body for a given state machine name.</p>
<dl class="docutils">
<dt><strong>Parameters:</strong></dt>
<dd>state_machine_name A string containing the name of the transfer function.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="get-transfer-function-transfer-function-name">
<h3><strong>get_transfer_function</strong>(<em>transfer_function_name</em>)<a class="headerlink" href="#get-transfer-function-transfer-function-name" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Gets the transfer function body for a given transfer function name.</p>
<p><strong>Parameters:</strong> transfer_function_name A string containing the name of the transfer function.</p>
</div></blockquote>
</div>
<div class="section" id="launch-experiment-id-experiment-conf-server-reservation">
<h3><strong>launch</strong>(<em>experiment_id</em>, <em>experiment_conf</em>, <em>server</em>, <em>reservation</em>)<a class="headerlink" href="#launch-experiment-id-experiment-conf-server-reservation" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Attempt to launch and initialize the given experiment on the given servers. This should not be directly invoked by users, use the VirtualCoach interface to validate and launch a simulation.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>experiment_id</strong> A string representing the short name of the experiment to be launched (e.g. ExDTemplateHusky).</li>
<li><strong>experiment_conf</strong> A string representing the configuration file for the experiment.</li>
<li><strong>server</strong> A string representing the name of the server to try to launch on.</li>
<li><strong>reservation</strong> A string representing a cluster resource reservation (if any).</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="pause">
<h3><strong>pause</strong>( )<a class="headerlink" href="#pause" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Attempt to pause the simulation by transitioning to the paused state.</div></blockquote>
</div>
<div class="section" id="print-csv-file-names">
<h3><strong>print_csv_file_names</strong>( )<a class="headerlink" href="#print-csv-file-names" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Prints a list of all csv file names that contain recorded simulation data.</div></blockquote>
</div>
<div class="section" id="print-state-machines">
<h3><strong>print_state_machines</strong>( )<a class="headerlink" href="#print-state-machines" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Prints a list of the state-machine names defined in the experiment.</div></blockquote>
</div>
<div class="section" id="print-transfer-functions">
<h3><strong>print_transfer_functions</strong>( )<a class="headerlink" href="#print-transfer-functions" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Prints a list of the transfer-function names defined in the experiment.</div></blockquote>
</div>
<div class="section" id="register-status-callback-callback">
<h3><strong>register_status_callback</strong>(<em>callback</em>)<a class="headerlink" href="#register-status-callback-callback" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Register a status message callback to be called whenever a simulation status message is received. This functionality is only available on installations with native ROS support.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>callback</strong> The callback function to be invoked.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="reset-reset-type">
<h3><strong>reset</strong>(<em>reset_type</em>)<a class="headerlink" href="#reset-reset-type" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Resets the simulation according to the type the user wants. Successful reset will pause the simulation.</p>
<dl class="docutils">
<dt><strong>Parameters:</strong></dt>
<dd><ul class="first last simple">
<li><strong>reset_type</strong> The reset type the user wants to be performed. Possible values are full, robot_pose, world, brain. The possible reset types are stored in the config file.</li>
</ul>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="save-brain">
<h3><strong>save_brain</strong>( )<a class="headerlink" href="#save-brain" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Saves the current brain script and populations to the storage</div></blockquote>
</div>
<div class="section" id="save-csv">
<h3><strong>save_csv</strong>( )<a class="headerlink" href="#save-csv" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Saves the recorded csv data to storage</div></blockquote>
</div>
<div class="section" id="save-state-machines">
<h3><strong>save_state_machines</strong>( )<a class="headerlink" href="#save-state-machines" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Saves the current state machines to the storage</div></blockquote>
</div>
<div class="section" id="save-transfer-functions">
<h3><strong>save_transfer_functions</strong>( )<a class="headerlink" href="#save-transfer-functions" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Saves the current transfer functions to the storage</div></blockquote>
</div>
<div class="section" id="save-world">
<h3><strong>save_world</strong>( )<a class="headerlink" href="#save-world" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Saves the current sdf world to the storage</div></blockquote>
</div>
<div class="section" id="start">
<h3><strong>start</strong>( )<a class="headerlink" href="#start" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Attempt to start the simulation by transitioning to the started state.</div></blockquote>
</div>
<div class="section" id="stop">
<h3><strong>stop</strong>( )<a class="headerlink" href="#stop" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>Attempt to stop the simulation by transitioning to the stopped state.</div></blockquote>
</div>
</div>
</div>


            </div>

            <aside class="hbpdoc-hnav hbpdoc-hnav-bottom">
                
                <span class="hbpdoc-hnav-previous">
                    previous: <a class="hbpdoc-hnav-link" href="introduction.html">Introduction</a>
                </span>
                
                
                <span class="hbpdoc-hnav-next">
                    next: <a class="hbpdoc-hnav-link" href="../../tutorials/index.html">Tutorials</a>
                </span>
                
            </aside>
        </article>
    </section>


    <div class="hbpdoc-footer">
        HBP Neurorobotics Platform <small>2.0</small> 
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Human Brain Project.
      Last updated on Jul 24, 2018.
    </div>
    </div>
</div>

  </body>
</html>